!function(){const t={order:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38],colors:["#FFFFFF","#C4C4C4","#888888","#555555","#222222","#000000","#006600","#22B14C","#02BE01","#51E119","#94E044","#FBFF5B","#E5D900","#E6BE0C","#E59500","#A06A42","#99530D","#633C1F","#6B0000","#9F0000","#E50000","#FF3904","#BB4F00","#FF755F","#FFC49F","#FFDFCC","#FFA7D1","#CF6EE4","#EC08EC","#820080","#5100FF","#020763","#0000EA","#044BFF","#6583CF","#36BAFF","#0083C7","#00D3DD","#45FFC8"]};function e(e,s){const i=function(t,e,s,i){return canvas.getContext("2d").getImageData(t,e,s,i).data}(e,s,1,1);return function(e,s,i){let n="#"+("000000"+(e<<16|s<<8|i).toString(16)).slice(-6).toUpperCase();return t.colors.findIndex(function(t){return t.toUpperCase()===n})}(i[0],i[1],i[2])}Object.defineProperty(window,"WebSocket",{value:class extends WebSocket{constructor(t,e){this.$callbacks={},this.trusted_code=void 0,super(t,e),this.BBY_on_message_send=function(){return!0};let s=this.send;this.send=((...t)=>{if(this.BBY_on_message_send(...t))return s.apply(this,t)}),this.addEventListener("message",t=>{if(-1==t.data.indexOf("42"))return;let e=JSON.parse(t.data.replace("42","")),s=e[0],i=e[1];if(this.$callbacks[s])for(const t of this.$callbacks[s])t(i)}),Object.defineProperty(window,"BababotWS",{value:this})}BBY_on(t,e){this.$callbacks[t]=this.$callbacks[t]||[],this.$callbacks[t].push(e)}BBY_emit(t,e){this.readyState==this.OPEN&&(this.trusted_code=`42${JSON.stringify([t,e])}`,this.send(this.trusted_code))}BBY_put_pixel(t,e,s){this.BBY_emit("p",[t,e,s,1])}BBY_get_pixel(t,s){return e(t,s)}BBY_send_chat(t,e){let s={text:t,mention:"",type:"global",target:"",color:11};s={...s,...e},this.BBY_emit("chat.message",s)}},writable:!1})}();
